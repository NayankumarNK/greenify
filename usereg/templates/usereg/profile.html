<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Greenify | Profile</title>
    <style>
        * {margin:0; padding:0; box-sizing:border-box; font-family:"Poppins",sans-serif;}
        body {background: radial-gradient(circle at 20% 30%, #e9fff0 0%, #d9ffea 40%, #f2fff9 100%);}
        header {
            background: linear-gradient(270deg, #2e8b57, #3fbf7f, #27a96f);
            background-size: 600% 600%;
            animation: gradientShift 10s ease infinite;
            color: white; padding: 18px 40px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 15px rgba(46,139,87,0.3);
        }
        @keyframes gradientShift {
            0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%}
        }
        header nav a {
            color:white; text-decoration:none; margin-left:22px;
            font-weight:500; position:relative;
        }
        header nav a::after {
            content:""; position:absolute; bottom:-5px; left:0;
            height:2px; width:0%; background:#eaffea; transition:width 0.3s ease;
        }
        header nav a:hover::after {width:100%;}
        .container {
            display:flex; flex-direction:column; align-items:center; justify-content:center;
            padding:40px;
        }
        .profile-card {
            background:white; padding:35px 45px; border-radius:20px;
            box-shadow:0 8px 25px rgba(46,139,87,0.25);
            text-align:center; max-width:600px; width:100%; margin-bottom:30px;
        }
        .profile-card img {
            width:120px; height:120px; border-radius:50%;
            border:4px solid #3fbf7f; margin-bottom:15px;
        }
        .profile-card h2 {color:#2e8b57;}
        .profile-card p {color:#555; margin:5px 0;}
        .section {
            background:white; padding:25px; border-radius:15px;
            box-shadow:0 5px 18px rgba(46,139,87,0.15);
            width:100%; max-width:700px; margin-bottom:30px;
        }
        .section h3 {color:#2e8b57; margin-bottom:10px; border-bottom:2px solid #d1f0da; padding-bottom:5px;}
        form input {
            width:100%; padding:10px; margin:8px 0;
            border:2px solid #d1f0da; border-radius:8px; outline:none;
        }
        form input:focus {border-color:#3fbf7f;}
        form button {
            background:linear-gradient(90deg,#2e8b57,#3fbf7f);
            color:white; border:none; padding:10px; border-radius:8px;
            width:100%; cursor:pointer; transition:0.3s;
        }
        form button:hover {transform:scale(1.03);}
        .badges {
            display:flex; gap:15px; flex-wrap:wrap; margin-top:10px;
        }
        .badge {
            background:linear-gradient(135deg,#3fbf7f,#2e8b57);
            color:white; padding:10px 20px; border-radius:20px;
            font-size:14px; box-shadow:0 5px 15px rgba(46,139,87,0.3);
        }
        footer {
            background:linear-gradient(90deg,#2e8b57,#3fbf7f);
            color:white; text-align:center; padding:14px; font-size:14px;
            box-shadow:0 -4px 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
<header>
    <h1>ðŸŒ¿ Greenify</h1>
    <nav>
        <a href="{% url 'home' %}">Home</a>
        <a href="{% url 'profile' %}">Profile</a>
        <a href="{% url 'logout' %}">Logout</a>
    </nav>
</header>

<div class="container">
    <div class="profile-card">
        <img src="https://cdn-icons-png.flaticon.com/512/219/219983.png" alt="User">
        <h2>{{ user.first_name }} {{ user.last_name }}</h2>
        <p>Username: {{ user.username }}</p>
        <p>Email: {{ user.email }}</p>
        <p>Member since: {{ user.date_joined|date:"F j, Y" }}</p>
    </div>

    <div class="section">
        <h3>Progress Overview</h3>
        <p>Eco Score: <strong>82%</strong></p>
        <div style="background:#d1f0da; height:15px; border-radius:8px; margin-top:8px;">
            <div style="width:82%; height:100%; background:#3fbf7f; border-radius:8px;"></div>
        </div>
    </div>

    <div class="section">
        <h3>Edit Profile</h3>
        <form method="POST">
            {% csrf_token %}
            <input type="hidden" name="update_profile" value="true">
            <input type="text" name="first_name" placeholder="First Name" value="{{ user.first_name }}" required>
            <input type="text" name="last_name" placeholder="Last Name" value="{{ user.last_name }}" required>
            <input type="email" name="email" placeholder="Email" value="{{ user.email }}" required>
            <button type="submit">Save Changes</button>
        </form>
    </div>

    <div class="section">
        <h3>Change Password</h3>
        <form method="POST">
            {% csrf_token %}
            <input type="hidden" name="change_password" value="true">
            <input type="password" name="old_password" placeholder="Old Password" required>
            <input type="password" name="new_password" placeholder="New Password" required>
            <input type="password" name="confirm_password" placeholder="Confirm New Password" required>
            <button type="submit">Update Password</button>
        </form>
    </div>

    <div class="section">
        <h3>Achievements</h3>
        <div class="badges">
            <div class="badge">ðŸŒ± Beginner Eco Warrior</div>
            <div class="badge">ðŸŒ¿ Green Habit Streak 7 Days</div>
            <div class="badge">ðŸŒŽ Plastic-Free Week</div>
        </div>
    </div>
</div>

<footer>
    <p>Â© 2025 Greenify | Empowering Sustainable Futures ðŸŒŽ</p>
</footer>
</body>
</html>
